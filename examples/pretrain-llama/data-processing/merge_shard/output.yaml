$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
code: ../../../../
command: 'bash examples/pretrain-llama/data-processing/merge_shard/remote_merge_shard.sh
  \

  "https://allamllmuksstandard.blob.core.windows.net/vocab-expanded-training-data/processed/ar/translated/en2ar_books_corpus_formatted"
  \

  "https://allamllmuksstandard.blob.core.windows.net/vocab-expanded-training-data/processed/merged_shards"
  \

  "sp=racwdli&st=2023-11-25T09:13:18Z&se=2024-04-30T17:13:18Z&spr=https&sv=2022-11-02&sr=c&sig=dcTe10UuDRh1g3Wh1bcYRenmV%2FUqvq%2BKJ7Ufmiw5WfA%3D"
  \

  "ar_translated_books3_000.jsonl" \

  "books_en2ar_splits_aaaa.jsonl" \

  "books_en2ar_splits_aaab.jsonl" \

  "books_en2ar_splits_aaac.jsonl" \

  "books_en2ar_splits_aaad.jsonl" \

  "books_en2ar_splits_aaae.jsonl" \

  "books_en2ar_splits_aaaf.jsonl" \

  "books_en2ar_splits_aaag.jsonl" \

  "books_en2ar_splits_aaah.jsonl" \

  "books_en2ar_splits_aaai.jsonl" \

  "books_en2ar_splits_aaaj.jsonl" \

  "books_en2ar_splits_aaak.jsonl" \

  "books_en2ar_splits_aaal.jsonl" \

  "books_en2ar_splits_aaam.jsonl" \

  "books_en2ar_splits_aaan.jsonl" \

  "books_en2ar_splits_aaao.jsonl" \

  "books_en2ar_splits_aaap.jsonl" \

  "books_en2ar_splits_aaaq.jsonl" \

  "books_en2ar_splits_aaar.jsonl" \

  "books_en2ar_splits_aaas.jsonl" \

  "books_en2ar_splits_aaat.jsonl" \

  "books_en2ar_splits_aaau.jsonl" \

  "books_en2ar_splits_aaav.jsonl" \

  "books_en2ar_splits_aaaw.jsonl" \

  "books_en2ar_splits_aaax.jsonl" \

  "books_en2ar_splits_aaay.jsonl" \

  "books_en2ar_splits_aaaz.jsonl" \

  "books_en2ar_splits_aaba.jsonl" \

  "books_en2ar_splits_aabb.jsonl" \

  "books_en2ar_splits_aabc.jsonl" \

  "books_en2ar_splits_aabd.jsonl" \

  "books_en2ar_splits_aabe.jsonl" \

  "books_en2ar_splits_aabf.jsonl" \

  "books_en2ar_splits_aabg.jsonl" \

  "books_en2ar_splits_aabh.jsonl" \

  "books_en2ar_splits_aabi.jsonl" \

  "books_en2ar_splits_aabj.jsonl" \

  "books_en2ar_splits_aabk.jsonl" \

  "books_en2ar_splits_aabl.jsonl" \

  "books_en2ar_splits_aabm.jsonl" \

  "books_en2ar_splits_aabn.jsonl" \

  "books_en2ar_splits_aabo.jsonl" \

  "books_en2ar_splits_aabp.jsonl" \

  "books_en2ar_splits_aabq.jsonl" \

  "books_en2ar_splits_aabr.jsonl" \

  "books_en2ar_splits_aabs.jsonl" \

  "books_en2ar_splits_aabt.jsonl" \

  "books_en2ar_splits_aabu.jsonl" \

  "books_en2ar_splits_aabv.jsonl" \

  "books_en2ar_splits_aabw.jsonl" \

  "books_en2ar_splits_aabx.jsonl" \

  "books_en2ar_splits_aaby.jsonl" \

  "books_en2ar_splits_aabz.jsonl" \

  "books_en2ar_splits_aaca.jsonl" \

  "books_en2ar_splits_aacb.jsonl" \

  "books_en2ar_splits_aacc.jsonl" \

  "books_en2ar_splits_aacd.jsonl" \

  "books_en2ar_splits_aace.jsonl" \

  "books_en2ar_splits_aacf.jsonl" \

  "books_en2ar_splits_aacg.jsonl" \

  "books_en2ar_splits_aach.jsonl" \

  "books_en2ar_splits_aaci.jsonl" \

  "books_en2ar_splits_aacj.jsonl" \

  "books_en2ar_splits_aack.jsonl" \

  "books_en2ar_splits_aacl.jsonl" \

  "books_en2ar_splits_aacm.jsonl" \

  "books_en2ar_splits_aacn.jsonl" \

  "books_en2ar_splits_aaco.jsonl" \

  "books_en2ar_splits_aacp.jsonl" \

  "books_en2ar_splits_aacq.jsonl" \

  "books_en2ar_splits_aacr.jsonl" \

  "books_en2ar_splits_aacs.jsonl" \

  "books_en2ar_splits_aact.jsonl" \

  "books_en2ar_splits_aacu.jsonl" \

  "books_en2ar_splits_aacv.jsonl" \

  "books_en2ar_splits_aacw.jsonl" \

  "books_en2ar_splits_aacx.jsonl" \

  "books_en2ar_splits_aacy.jsonl" \

  "books_en2ar_splits_aacz.jsonl" \

  "books_en2ar_splits_aada.jsonl" \

  "books_en2ar_splits_aadb.jsonl" \

  "books_en2ar_splits_aadc.jsonl" \

  "books_en2ar_splits_aadd.jsonl" \

  "books_en2ar_splits_aade.jsonl" \

  "books_en2ar_splits_aadf.jsonl" \

  "books_en2ar_splits_aadg.jsonl" \

  "books_en2ar_splits_aadh.jsonl" \

  "books_en2ar_splits_aadi.jsonl" \

  "books_en2ar_splits_aadj.jsonl" \

  "books_en2ar_splits_aadk.jsonl" \

  "books_en2ar_splits_aadl.jsonl" \

  "books_en2ar_splits_aadm.jsonl" \

  "books_en2ar_splits_aadn.jsonl" \

  "books_en2ar_splits_aado.jsonl" \

  "books_en2ar_splits_aadp.jsonl" \

  "books_en2ar_splits_aadq.jsonl" \

  "books_en2ar_splits_aadr.jsonl" \

  "books_en2ar_splits_aads.jsonl" \

  "books_en2ar_splits_aadt.jsonl" \

  "books_en2ar_splits_aadu.jsonl" \

  "books_en2ar_splits_aadv.jsonl" \

  "books_en2ar_splits_aadw.jsonl" \

  "books_en2ar_splits_aadx.jsonl" \

  "books_en2ar_splits_aady.jsonl" \

  "books_en2ar_splits_aadz.jsonl" \

  "books_en2ar_splits_aaea.jsonl" \

  "books_en2ar_splits_aaeb.jsonl" \

  "books_en2ar_splits_aaec.jsonl" \

  "books_en2ar_splits_aaed.jsonl" \

  "books_en2ar_splits_aaee.jsonl" \

  "books_en2ar_splits_aaef.jsonl" \

  "books_en2ar_splits_aaeg.jsonl" \

  "books_en2ar_splits_aaeh.jsonl" \

  "books_en2ar_splits_aaei.jsonl" \

  "books_en2ar_splits_aaej.jsonl" \

  "books_en2ar_splits_aaek.jsonl" \

  "books_en2ar_splits_aael.jsonl" \

  "books_en2ar_splits_aaem.jsonl" \

  "books_en2ar_splits_aaen.jsonl" \

  "books_en2ar_splits_aaeo.jsonl"'
compute: azureml:LARGE-CPU
display_name: merge_shard
distribution:
  process_count_per_instance: 1
  type: pytorch
environment: azureml:Megatron-LLaMA:7
environment_variables:
  CUDA_DEVICE_MAX_CONNECTIONS: '1'
  HYDRA_FULL_ERROR: '1'
  NCCL_DEBUG: WARN
  NCCL_IB_PCI_RELAXED_ORDERING: '2'
  NCCL_IB_TIMEOUT: '22'
  UCX_IB_PCI_RELAXED_ORDERING: auto
experiment_name: tokenize
resources:
  instance_count: 1
  shm_size: 100g
services:
  my_jupyterlab:
    nodes: all
    type: jupyter_lab
